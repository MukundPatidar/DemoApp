<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="Student_web_style.css" />
    <title>Student Details</title>
  </head>
  <body>
    <header>
      <h1>Welcome to SAGE University</h1>
      <nav>
        <a href="#" onclick="showPage('home')">Home</a>
        <a href="#" onclick="showPage('login')">Login</a>
        <a href="#" onclick="showPage('signup')">Signup</a>
        <a href="#" onclick="showPage('student')">Student Details</a>
        <a href="#" onclick="logout()">Logout</a>
      </nav>
    </header>

    <section id="home">
      <h2>Home</h2>
      <p>
        Welcome to SAGE University, where knowledge meets excellence. Our
        university is dedicated to providing a dynamic and inclusive learning
        environment for students from diverse backgrounds. Whether you are
        pursuing undergraduate or postgraduate studies, SAGE University is
        committed to fostering intellectual growth and personal development.
      </p>
      <p>
        Explore our website to learn more about our programs, faculty, and
        campus facilities. If you are a student, log in to access personalized
        details and stay updated on your academic journey.
      </p>
    </section>

    <section id="login" style="display: none">
      <h2>Login</h2>
      <form id="loginForm" onsubmit="return loginUser()">
        <label for="username">Name:</label>
        <input type="text" id="loginUsername" name="username" required />
        <label for="password">Scholar No. (Password):</label>
        <input type="password" id="loginPassword" name="password" required />
        <button type="submit">Login</button>
      </form>
    </section>

    <section id="signup" style="display: none">
      <h2>Signup</h2>
      <form id="signupForm" onsubmit="return signupUser()">
        <label for="name">Name:</label>
        <input type="text" id="signupUsername" name="username" required />
        <label for="password">Scholar No. (Password):</label>
        <input type="password" id="signupPassword" name="password" required />
        <button type="submit">Signup</button>
      </form>
    </section>

    <section id="student" style="display: none">
      <h2>Student Details</h2>
      <table border="1" id="studentTable">
        <tr>
          <th>Name (Username)</th>
          <th>Scholar No. (Password)</th>
          <th>Department</th>
          <th>Section</th>
        </tr>
      </table>
    </section>

    <section id="thanks" style="display: none">
      <h2>Thank You!</h2>
      <p>
        Thank you for visiting our website. We appreciate your time and
        interest. Feel free to explore more about SAGE University whenever you
        like!
      </p>
    </section>

    <script>
      // Simulated user database
      const users = [
        {
          username: "Rashi",
          password: "24805",
          department: "Computer Application",
          section: "C",
        },
        {
          username: "Rahul",
          password: "24050",
          department: "Computer Application",
          section: "D",
        },
        {
          username: "Mumukshu",
          password: "26025",
          department: "Computer Application",
          section: "D",
        },
        {
          username: "Mukund",
          password: "26988",
          department: "Computer Application",
          section: "D",
        },
      ];

      function showPage(pageId) {
        var sections = document.querySelectorAll("section");
        sections.forEach(function (section) {
          section.style.display = "none";
        });

        var selectedSection = document.getElementById(pageId);
        selectedSection.style.display = "block";

        if (pageId === "student") {
          updateStudentDetails();
        }
      }

      function updateStudentDetails() {
        var isLoggedIn = sessionStorage.getItem("isLoggedIn");
        var studentTable = document.getElementById("studentTable");

        // Clear existing rows
        studentTable.innerHTML =
          "<tr><th>Name (Username)</th><th>Scholar No. (Password)</th><th>Department</th><th>Section</th></tr>";

        if (isLoggedIn) {
          var username = sessionStorage.getItem("username");
          var user = users.find((user) => user.username === username);

          // Display details of the logged-in user
          var row = studentTable.insertRow();
          row.insertCell(0).textContent = user.username;
          row.insertCell(1).textContent = user.password;
          row.insertCell(2).textContent = user.department;
          row.insertCell(3).textContent = user.section;
        }
      }

      function loginUser() {
        var username = document.getElementById("loginUsername").value;
        var password = document.getElementById("loginPassword").value;

        // Simulate user authentication
        var authenticatedUser = users.find(
          (user) => user.username === username && user.password === password
        );
        if (authenticatedUser) {
          sessionStorage.setItem("isLoggedIn", true);
          sessionStorage.setItem("username", username);
          alert("Login successful!");
          showPage("student");
          updateStudentDetails();
        } else {
          alert("Invalid username or password.");
        }

        return false;
      }

      function signupUser() {
        var username = document.getElementById("signupUsername").value;
        var password = document.getElementById("signupPassword").value;

        // Check if the username is already taken
        if (users.some((user) => user.username === username)) {
          alert("Username is already taken. Please choose another one.");
        } else {
          // Simulate successful signup
          alert("Signup successful!");
          // Automatically log in the user after signup
          sessionStorage.setItem("isLoggedIn", true);
          sessionStorage.setItem("username", username);
          showPage("student");
          updateStudentDetails();
        }

        return false;
      }

      function logout() {
        sessionStorage.removeItem("isLoggedIn");
        sessionStorage.removeItem("username");
        showPage("thanks"); // Show thanksgiving message on logout
      }

      // Initialize by showing the home page
      showPage("home");
    </script>
  </body>
</html>